---
layout: post
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title | escape }}</title>

  <!-- MathJax -->
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [["$", "$"], ["\\(", "\\)"]],
        displayMath: [["$$", "$$"], ["\\[", "\\]"]],
        processEscapes: true
      },
      "HTML-CSS": {
      scale: 70  // 调整公式字体大小，默认 100（百分比）
      },
      CommonHTML: {
      scale: 70  // 如果使用 CommonHTML 输出，也需要设置
      }
    });
  </script>

  <!-- Mermaid.js for diagrams -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    // Initialize Mermaid after page load
    document.addEventListener('DOMContentLoaded', function() {
      mermaid.initialize({
        startOnLoad: false,
        theme: 'default',
        securityLevel: 'loose',
        flowchart: {
          useMaxWidth: true,
          htmlLabels: true,
          curve: 'basis'
        }
      });

      // Find all mermaid code blocks and render them
      document.querySelectorAll('pre code.language-mermaid, pre.language-mermaid code, .language-mermaid').forEach((element, index) => {
        // Get the mermaid code
        const code = element.textContent;

        // Create a div for the rendered diagram
        const mermaidDiv = document.createElement('div');
        mermaidDiv.className = 'mermaid';
        mermaidDiv.textContent = code;

        // Replace the code block with the mermaid div
        const pre = element.closest('pre');
        if (pre) {
          pre.replaceWith(mermaidDiv);
        } else {
          element.replaceWith(mermaidDiv);
        }
      });

      // Render all mermaid diagrams
      mermaid.run();
    });
  </script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
</head>

<body class="post-layout">
<!--     Header -->
    <header class="header">
      <div class="container">
        <span class="logo">🌟 Jason's Blog</span>
        <nav class="nav">
          <ul>
            {% for item in site.data.navigation %}
              <li><a href="{{ item.url | relative_url }}">{{ item.title }}</a></li>
            {% endfor %}
          </ul>
        </nav>
      </div>
    </header>

    <article>
        <h1>{{ page.title }}</h1>
        <div class="post-meta">
          <span class="post-date">Date: {{ page.date | date: "%B %d, %Y" }}</span> |
          <span class="reading-time">Estimated Reading Time: {{ page.reading_time | default: '5 min' }}</span> |
          <span class="post-author">Author: {{ page.author | default: 'Unknown' }}</span>
        </div>

        <!-- Audio Player (显示在标题下方) -->
        {% if page.audio %}
        <div class="audio-player-container">
          <div class="audio-player">
            <audio id="article-audio" preload="metadata">
              <source src="{{ page.audio | relative_url }}" type="audio/mp4">
              Your browser does not support the audio element.
            </audio>

            <div class="audio-controls">
              <button id="play-pause-btn" class="control-btn" aria-label="Play/Pause">
                <svg id="play-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M8 5v14l11-7z"/>
                </svg>
                <svg id="pause-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" style="display:none;">
                  <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
                </svg>
              </button>

              <div class="time-display">
                <span id="current-time">0:00</span>
                <span class="time-separator">/</span>
                <span id="duration">0:00</span>
              </div>

              <div class="progress-container">
                <input type="range" id="progress-bar" class="progress-bar" min="0" max="100" value="0" step="0.1">
                <div class="progress-fill" id="progress-fill"></div>
              </div>

              <div class="volume-control">
                <button id="mute-btn" class="control-btn" aria-label="Mute/Unmute">
                  <svg id="volume-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>
                  </svg>
                  <svg id="mute-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display:none;">
                    <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
                  </svg>
                </button>
                <input type="range" id="volume-slider" class="volume-slider" min="0" max="100" value="100" step="1">
              </div>

              <select id="speed-control" class="speed-control">
                <option value="0.5">0.5x</option>
                <option value="0.75">0.75x</option>
                <option value="1" selected>1x</option>
                <option value="1.25">1.25x</option>
                <option value="1.5">1.5x</option>
                <option value="2">2x</option>
              </select>
            </div>
          </div>
        </div>
        {% endif %}

        <main class="container">
            {{ content }}
        </main>
        {% if page.tags %}
        <div class="tags">
            标签:
            {% for tag in page.tags %}
            <span class="tag">{{ tag }}</span>
            {% endfor %}
        </div>
        {% endif %}
    </article>

    <!-- Image Lightbox Modal -->
    <div id="image-lightbox" class="lightbox-modal">
      <span class="lightbox-close">&times;</span>
      <img class="lightbox-content" id="lightbox-img">
      <div class="lightbox-caption"></div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <p>&copy; {{ site.time | date: "%Y" }} {{ site.title }}</p>
    </footer>

    <!-- Custom JavaScript -->
    <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
</body>
<!--<script src="{{ '/assets/js/main.js' | relative_url }}"></script>-->

<!--&lt;!&ndash;<link rel="stylesheet" href="{{ '/assets/main.css' | relative_url }}">&ndash;&gt;-->
<!--<link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">-->
</html>