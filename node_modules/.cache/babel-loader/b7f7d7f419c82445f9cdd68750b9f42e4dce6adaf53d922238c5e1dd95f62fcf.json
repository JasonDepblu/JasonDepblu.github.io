{"ast":null,"code":"import React,{useEffect,useRef}from'react';import Message from'./Message';import ThinkingIndicator from'./ThinkingIndicator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MessageList(_ref){let{messages,thinking}=_ref;const messagesEndRef=useRef(null);// 自动滚动到最新消息\nuseEffect(()=>{if(messagesEndRef.current){messagesEndRef.current.scrollIntoView({behavior:'smooth'});}},[messages,thinking]);return/*#__PURE__*/_jsxs(\"div\",{id:\"chat-log\",children:[messages.map((msg,index)=>/*#__PURE__*/_jsx(Message,{type:msg.type,content:msg.content,isStreaming:msg.isStreaming,error:msg.error},index)),thinking&&/*#__PURE__*/_jsx(ThinkingIndicator,{id:thinking.id,text:thinking.text,attempts:thinking.attempts||0}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]});}export default MessageList;","map":{"version":3,"names":["React","useEffect","useRef","Message","ThinkingIndicator","jsx","_jsx","jsxs","_jsxs","MessageList","_ref","messages","thinking","messagesEndRef","current","scrollIntoView","behavior","id","children","map","msg","index","type","content","isStreaming","error","text","attempts","ref"],"sources":["/Users/depblu/Documents/GitHub/JasonDepblu.github.io/src/components/MessageList.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport Message from './Message';\nimport ThinkingIndicator from './ThinkingIndicator';\n\nfunction MessageList({ messages, thinking }) {\n  const messagesEndRef = useRef(null);\n\n  // 自动滚动到最新消息\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages, thinking]);\n\n  return (\n    <div id=\"chat-log\">\n      {messages.map((msg, index) => (\n        <Message\n          key={index}\n          type={msg.type}\n          content={msg.content}\n          isStreaming={msg.isStreaming}\n          error={msg.error}\n        />\n      ))}\n\n      {thinking && (\n        <ThinkingIndicator\n          id={thinking.id}\n          text={thinking.text}\n          attempts={thinking.attempts || 0}\n        />\n      )}\n\n      <div ref={messagesEndRef} />\n    </div>\n  );\n}\n\nexport default MessageList;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAyB,IAAxB,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAAF,IAAA,CACzC,KAAM,CAAAG,cAAc,CAAGX,MAAM,CAAC,IAAI,CAAC,CAEnC;AACAD,SAAS,CAAC,IAAM,CACd,GAAIY,cAAc,CAACC,OAAO,CAAE,CAC1BD,cAAc,CAACC,OAAO,CAACC,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAC/D,CACF,CAAC,CAAE,CAACL,QAAQ,CAAEC,QAAQ,CAAC,CAAC,CAExB,mBACEJ,KAAA,QAAKS,EAAE,CAAC,UAAU,CAAAC,QAAA,EACfP,QAAQ,CAACQ,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACvBf,IAAA,CAACH,OAAO,EAENmB,IAAI,CAAEF,GAAG,CAACE,IAAK,CACfC,OAAO,CAAEH,GAAG,CAACG,OAAQ,CACrBC,WAAW,CAAEJ,GAAG,CAACI,WAAY,CAC7BC,KAAK,CAAEL,GAAG,CAACK,KAAM,EAJZJ,KAKN,CACF,CAAC,CAEDT,QAAQ,eACPN,IAAA,CAACF,iBAAiB,EAChBa,EAAE,CAAEL,QAAQ,CAACK,EAAG,CAChBS,IAAI,CAAEd,QAAQ,CAACc,IAAK,CACpBC,QAAQ,CAAEf,QAAQ,CAACe,QAAQ,EAAI,CAAE,CAClC,CACF,cAEDrB,IAAA,QAAKsB,GAAG,CAAEf,cAAe,CAAE,CAAC,EACzB,CAAC,CAEV,CAEA,cAAe,CAAAJ,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}