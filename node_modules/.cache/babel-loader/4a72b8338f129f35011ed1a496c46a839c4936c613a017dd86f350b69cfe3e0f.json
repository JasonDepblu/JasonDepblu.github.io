{"ast":null,"code":"import React from'react';import{marked}from'marked';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Message(_ref){let{type,content,isStreaming=false,error=false}=_ref;// 渲染Markdown内容\nconst renderContent=()=>{if(typeof content==='string'){try{// 对AI消息使用Markdown渲染\nif(type==='ai'&&!error){return/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:marked.parse(content)}});}}catch(e){console.error('Markdown渲染错误:',e);}}// 默认情况或渲染失败时直接显示文本\nreturn/*#__PURE__*/_jsx(\"p\",{children:content});};const className=`${type}-message ${isStreaming?'streaming':''} ${error?'error-message':''}`;return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[renderContent(),isStreaming&&/*#__PURE__*/_jsx(\"div\",{className:\"stream-indicator\",children:\"\\u6B63\\u5728\\u751F\\u6210\\u56DE\\u7B54...\"})]});}export default Message;","map":{"version":3,"names":["React","marked","jsx","_jsx","jsxs","_jsxs","Message","_ref","type","content","isStreaming","error","renderContent","dangerouslySetInnerHTML","__html","parse","e","console","children","className"],"sources":["/Users/depblu/Documents/GitHub/JasonDepblu.github.io/src/components/Message.jsx"],"sourcesContent":["import React from 'react';\nimport { marked } from 'marked';\n\nfunction Message({ type, content, isStreaming = false, error = false }) {\n  // 渲染Markdown内容\n  const renderContent = () => {\n    if (typeof content === 'string') {\n      try {\n        // 对AI消息使用Markdown渲染\n        if (type === 'ai' && !error) {\n          return <div dangerouslySetInnerHTML={{ __html: marked.parse(content) }} />;\n        }\n      } catch (e) {\n        console.error('Markdown渲染错误:', e);\n      }\n    }\n\n    // 默认情况或渲染失败时直接显示文本\n    return <p>{content}</p>;\n  };\n\n  const className = `${type}-message ${isStreaming ? 'streaming' : ''} ${error ? 'error-message' : ''}`;\n\n  return (\n    <div className={className}>\n      {renderContent()}\n      {isStreaming && <div className=\"stream-indicator\">正在生成回答...</div>}\n    </div>\n  );\n}\n\nexport default Message;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhC,QAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAwD,IAAvD,CAAEC,IAAI,CAAEC,OAAO,CAAEC,WAAW,CAAG,KAAK,CAAEC,KAAK,CAAG,KAAM,CAAC,CAAAJ,IAAA,CACpE;AACA,KAAM,CAAAK,aAAa,CAAGA,CAAA,GAAM,CAC1B,GAAI,MAAO,CAAAH,OAAO,GAAK,QAAQ,CAAE,CAC/B,GAAI,CACF;AACA,GAAID,IAAI,GAAK,IAAI,EAAI,CAACG,KAAK,CAAE,CAC3B,mBAAOR,IAAA,QAAKU,uBAAuB,CAAE,CAAEC,MAAM,CAAEb,MAAM,CAACc,KAAK,CAACN,OAAO,CAAE,CAAE,CAAE,CAAC,CAC5E,CACF,CAAE,MAAOO,CAAC,CAAE,CACVC,OAAO,CAACN,KAAK,CAAC,eAAe,CAAEK,CAAC,CAAC,CACnC,CACF,CAEA;AACA,mBAAOb,IAAA,MAAAe,QAAA,CAAIT,OAAO,CAAI,CAAC,CACzB,CAAC,CAED,KAAM,CAAAU,SAAS,CAAG,GAAGX,IAAI,YAAYE,WAAW,CAAG,WAAW,CAAG,EAAE,IAAIC,KAAK,CAAG,eAAe,CAAG,EAAE,EAAE,CAErG,mBACEN,KAAA,QAAKc,SAAS,CAAEA,SAAU,CAAAD,QAAA,EACvBN,aAAa,CAAC,CAAC,CACfF,WAAW,eAAIP,IAAA,QAAKgB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAC,yCAAS,CAAK,CAAC,EAC9D,CAAC,CAEV,CAEA,cAAe,CAAAZ,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}