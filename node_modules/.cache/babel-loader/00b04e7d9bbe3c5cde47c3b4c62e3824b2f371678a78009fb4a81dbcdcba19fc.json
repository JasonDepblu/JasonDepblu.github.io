{"ast":null,"code":"var _jsxFileName = \"/Users/depblu/Documents/GitHub/JasonDepblu.github.io/src/components/ChatInput.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatInput({\n  onSendMessage,\n  disabled\n}) {\n  _s();\n  const [message, setMessage] = useState('');\n  const textareaRef = useRef(null);\n\n  // 自动调整文本区域高度\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 200)}px`;\n    }\n  }, [message]);\n\n  // 处理提交\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (message.trim() && !disabled) {\n      onSendMessage(message.trim());\n      setMessage('');\n\n      // 重置文本区域高度\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto';\n      }\n    }\n  };\n\n  // 处理键盘事件\n  const handleKeyDown = e => {\n    // Ctrl+Enter 或 在移动设备上直接 Enter 发送\n    if (e.ctrlKey && e.key === 'Enter' || window.innerWidth <= 768 && e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"input-area\",\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      ref: textareaRef,\n      id: \"question\",\n      value: message,\n      onChange: e => setMessage(e.target.value),\n      onKeyDown: handleKeyDown,\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u95EE\\u9898...\",\n      disabled: disabled\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"send-btn\",\n      onClick: handleSubmit,\n      disabled: !message.trim() || disabled,\n      children: disabled ? '处理中...' : '提交'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatInput, \"Xnwpzb2esK1XmXbaMu5Wh8+pYgY=\");\n_c = ChatInput;\nexport default ChatInput;\nvar _c;\n$RefreshReg$(_c, \"ChatInput\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","ChatInput","onSendMessage","disabled","_s","message","setMessage","textareaRef","current","style","height","Math","min","scrollHeight","handleSubmit","e","preventDefault","trim","handleKeyDown","ctrlKey","key","window","innerWidth","shiftKey","id","children","ref","value","onChange","target","onKeyDown","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/depblu/Documents/GitHub/JasonDepblu.github.io/src/components/ChatInput.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nfunction ChatInput({ onSendMessage, disabled }) {\n  const [message, setMessage] = useState('');\n  const textareaRef = useRef(null);\n\n  // 自动调整文本区域高度\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 200)}px`;\n    }\n  }, [message]);\n\n  // 处理提交\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (message.trim() && !disabled) {\n      onSendMessage(message.trim());\n      setMessage('');\n\n      // 重置文本区域高度\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto';\n      }\n    }\n  };\n\n  // 处理键盘事件\n  const handleKeyDown = (e) => {\n    // Ctrl+Enter 或 在移动设备上直接 Enter 发送\n    if ((e.ctrlKey && e.key === 'Enter') ||\n        (window.innerWidth <= 768 && e.key === 'Enter' && !e.shiftKey)) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n\n  return (\n    <div id=\"input-area\">\n      <textarea\n        ref={textareaRef}\n        id=\"question\"\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n        onKeyDown={handleKeyDown}\n        placeholder=\"请输入您的问题...\"\n        disabled={disabled}\n      />\n      <button\n        id=\"send-btn\"\n        onClick={handleSubmit}\n        disabled={!message.trim() || disabled}\n      >\n        {disabled ? '处理中...' : '提交'}\n      </button>\n    </div>\n  );\n}\n\nexport default ChatInput;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,SAASC,SAASA,CAAC;EAAEC,aAAa;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC9C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMW,WAAW,GAAGT,MAAM,CAAC,IAAI,CAAC;;EAEhC;EACAD,SAAS,CAAC,MAAM;IACd,IAAIU,WAAW,CAACC,OAAO,EAAE;MACvBD,WAAW,CAACC,OAAO,CAACC,KAAK,CAACC,MAAM,GAAG,MAAM;MACzCH,WAAW,CAACC,OAAO,CAACC,KAAK,CAACC,MAAM,GAAG,GAAGC,IAAI,CAACC,GAAG,CAACL,WAAW,CAACC,OAAO,CAACK,YAAY,EAAE,GAAG,CAAC,IAAI;IAC3F;EACF,CAAC,EAAE,CAACR,OAAO,CAAC,CAAC;;EAEb;EACA,MAAMS,YAAY,GAAIC,CAAC,IAAK;IAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIX,OAAO,CAACY,IAAI,CAAC,CAAC,IAAI,CAACd,QAAQ,EAAE;MAC/BD,aAAa,CAACG,OAAO,CAACY,IAAI,CAAC,CAAC,CAAC;MAC7BX,UAAU,CAAC,EAAE,CAAC;;MAEd;MACA,IAAIC,WAAW,CAACC,OAAO,EAAE;QACvBD,WAAW,CAACC,OAAO,CAACC,KAAK,CAACC,MAAM,GAAG,MAAM;MAC3C;IACF;EACF,CAAC;;EAED;EACA,MAAMQ,aAAa,GAAIH,CAAC,IAAK;IAC3B;IACA,IAAKA,CAAC,CAACI,OAAO,IAAIJ,CAAC,CAACK,GAAG,KAAK,OAAO,IAC9BC,MAAM,CAACC,UAAU,IAAI,GAAG,IAAIP,CAAC,CAACK,GAAG,KAAK,OAAO,IAAI,CAACL,CAAC,CAACQ,QAAS,EAAE;MAClER,CAAC,CAACC,cAAc,CAAC,CAAC;MAClBF,YAAY,CAACC,CAAC,CAAC;IACjB;EACF,CAAC;EAED,oBACEf,OAAA;IAAKwB,EAAE,EAAC,YAAY;IAAAC,QAAA,gBAClBzB,OAAA;MACE0B,GAAG,EAAEnB,WAAY;MACjBiB,EAAE,EAAC,UAAU;MACbG,KAAK,EAAEtB,OAAQ;MACfuB,QAAQ,EAAGb,CAAC,IAAKT,UAAU,CAACS,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE;MAC5CG,SAAS,EAAEZ,aAAc;MACzBa,WAAW,EAAC,+CAAY;MACxB5B,QAAQ,EAAEA;IAAS;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CAAC,eACFnC,OAAA;MACEwB,EAAE,EAAC,UAAU;MACbY,OAAO,EAAEtB,YAAa;MACtBX,QAAQ,EAAE,CAACE,OAAO,CAACY,IAAI,CAAC,CAAC,IAAId,QAAS;MAAAsB,QAAA,EAErCtB,QAAQ,GAAG,QAAQ,GAAG;IAAI;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAAC/B,EAAA,CAxDQH,SAAS;AAAAoC,EAAA,GAATpC,SAAS;AA0DlB,eAAeA,SAAS;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}